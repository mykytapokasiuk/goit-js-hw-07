<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: 01-gallery.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: 01-gallery.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { galleryItems } from "./gallery-items.js";

const refs = {
    targetElement: document.querySelector(".gallery"),
};

const variables = {
    largeImageUrl: "",
    isBasicLightboxVisible: "",
    instance: "",
};
/**
 * Creates markup for one gallery item
 * @param {object} galleryItem
 * @returns {string} String with markup
 */
const createGalleryElement = (galleryItem) => {
    const { preview, original, description } = galleryItem;
    return `
    &lt;li class="gallery__item">
        &lt;a class="gallery__link" href=${original}>
            &lt;img
                class="gallery__image"
                src=${preview}
                data-source=${original}
                alt=${description}
            />
        &lt;/a>
    &lt;/li>`;
};
/**
 * Gets event target (large image) url, checks if right target was clicked
 * @param {event} event
 */
const getLargeImageUrl = (event) => {
    event.preventDefault();
    const imageUrl = event.target.dataset.source;
    if (event.target.nodeName !== "IMG") {
        return;
    }
    variables.largeImageUrl = imageUrl;
};
/**
 * Checks if modal window was opened, closes modal window only by ESC key
 * @param {event} event
 */
const onEscPress = (event) => {
    if (variables.isBasicLightboxVisible &amp;&amp; event.key === "Escape") {
        variables.instance.close();
        variables.isBasicLightboxVisible = !variables.isBasicLightboxVisible;
    }
};
/**
 * Removes event listener from window
 */
const onCloseModal = () => {
    window.removeEventListener("keydown", onEscPress);
};
/**
 * Opens modal window with large image, checks if right target was clicked
 * @param {event} event
 */
const onOpenModal = (event) => {
    window.addEventListener("keydown", onEscPress);
    if (event.target.nodeName !== "IMG") {
        return;
    }
    variables.instance = basicLightbox.create(
        `
		&lt;img width="1400" height="900" src=${variables.largeImageUrl}>
	`,
        {
            onClose: onCloseModal,
        }
    );
    variables.instance.show();
    variables.isBasicLightboxVisible = basicLightbox.visible();
};

const createdGallery = galleryItems.map(createGalleryElement).join("");
refs.targetElement.insertAdjacentHTML("afterbegin", createdGallery);
refs.targetElement.addEventListener("click", getLargeImageUrl);
refs.targetElement.addEventListener("click", onOpenModal);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#createGalleryElement">createGalleryElement</a></li><li><a href="global.html#getLargeImageUrl">getLargeImageUrl</a></li><li><a href="global.html#onCloseModal">onCloseModal</a></li><li><a href="global.html#onEscPress">onEscPress</a></li><li><a href="global.html#onOpenModal">onOpenModal</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Apr 21 2023 01:00:22 GMT+0300 (за східноєвропейським літнім часом)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
